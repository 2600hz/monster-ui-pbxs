<div id="edit_server" class="wizard">
	<div class="row-fluid">
		<div class="wizard-top-bar blue-gradient-reverse" data-max_step="3">
			<div class="steps-wrapper">
				<div class="step active" data-step="1">
					<div class="wrapper-icon">
						<i class="fa fa-check-square-o"></i>
					</div>
					<div class="step-title">
						{{ i18n.pbx_brand }}
					</div>
				</div>
				<div class="step" data-step="2">
					<div class="wrapper-icon">
						<i class="fa fa-hdd-o"></i>
					</div>
					<div class="step-title">
						{{ i18n.authentication }}
					</div>
				</div>
				<div class="step" data-step="3">
					<div class="wrapper-icon">
						<i class="fa fa-cog"></i>
					</div>
					<div class="step-title">
						{{ i18n.config }}
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="row-fluid">
		<form id="endpoint">
			<div class="wizard-content-wrapper">
				<div class="wizard-content">
					<div class="wizard-content-step pbx-selection" data-step="1">
						<div class="row-fluid">
							<div class="content-centered">
								<h4>{{ i18n.which_pbx }}</h4>
							</div>
						</div>

						<div class="row-fluid content-centered">
							<div class="info_pbx">
								<div class="selected-pbx-block">
									{{ i18n.currently_selected }}: <span class="selected-pbx">{{server_type}}</span>
									<input type="text" placeholder="{{ i18n.friendly_name }}" id="server_name" name="server_name" value="{{server_name}}"></input>
								</div>
							</div>

							<div class="pbx-brand-list content-centered">
								<div class="pbx bluebox" data-pbx_name="blue.box">&nbsp;</div>
								<div class="pbx freeswitch" data-pbx_name="FreeSWITCH">&nbsp;</div>
								<div class="pbx threecom" data-pbx_name="threecom">&nbsp;</div>
								<div class="pbx allworks" data-pbx_name="allworks">&nbsp;</div>
								<div class="pbx altigen" data-pbx_name="AltiGen">&nbsp;</div>
								<div class="pbx asterisk" data-pbx_name="Asterisk">&nbsp;</div>
								<div class="pbx avaya" data-pbx_name="Avaya">&nbsp;</div>
								<div class="pbx cisco" data-pbx_name="Cisco">&nbsp;</div>
								<div class="pbx digium" data-pbx_name="digium">&nbsp;</div>
								<div class="pbx epygi" data-pbx_name="epygi">&nbsp;</div>
								<div class="pbx freepbx" data-pbx_name="FreePBX">&nbsp;</div>
								<div class="pbx mitel" data-pbx_name="Mitel">&nbsp;</div>
								<div class="pbx objectworld" data-pbx_name="ObjectWorld">&nbsp;</div>
								<div class="pbx pingtel" data-pbx_name="pingtel">&nbsp;</div>
								<div class="pbx responsepoint" data-pbx_name="Response Point">&nbsp;</div>
								<div class="pbx samsung" data-pbx_name="Samsung">&nbsp;</div>
								<div class="pbx shoretel" data-pbx_name="ShoreTel">&nbsp;</div>
								<div class="pbx sutus" data-pbx_name="Sutus">&nbsp;</div>
								<div class="pbx talkswitch" data-pbx_name="talkswitch">&nbsp;</div>
								<div class="pbx taridium" data-pbx_name="taridium">&nbsp;</div>
<!--								<div class="pbx other" data-pbx_name="other">Other PBX</div>-->
							</div>
						</div>

						<div class="row-fluid">
							<div class="content-centered">{{ i18n.pbx_missing_help }}</div>
						</div>
					</div>

					<div class="wizard-content-step" data-step="2">
						<div class="row-fluid">
							<div class="content-centered title-step">
								<h4>
									<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="top" data-original-title="{{ i18n.help_static_ip }}"></i>
									{{ i18n.is_static_ip }}
									<div class="radio-wrapper">
										<label class="radio inline">
											<input type="radio" name="auth.auth_method" value="IP" {{#compare auth.auth_method "===" "IP"}}checked{{/compare}}>
											{{ i18n.yes }}
										</label>
										<label class="radio inline">
											<input type="radio" name="auth.auth_method" value="Password" {{#compare auth.auth_method "===" "Password"}}checked{{/compare}}>
											{{ i18n.no }}
										</label>
									</div>
								</h4>
							</div>
						</div>

						<!-- Hidden fields -->
						<input type="hidden" name="extra.serverid" value="{{extra.id}}" />

						<div class="row-fluid content-centered">
							<div class="well">
								<div class="static-ip-block" data-value="IP">
									<div class="well-title">
										{{ i18n.great }}
									</div>

									<div class="row-fluid">
										<div class="field-name span5">{{ i18n.what_is_your_ip }}</div>
										<div class="span6 offset1"><input required type="text" id="auth_ip" pattern="^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$" name="auth.ip" value="{{auth.ip}}"></input></div>
									</div>
								</div>

								<div class="static-ip-block" data-value="Password">
									<div class="well-title">
										{{ i18n.np }}
									</div>

									<div class="row-fluid">
										<div class="field-name span5">{{ i18n.username }}</div>
										<div class="span6 offset1"><input required type="text" name="auth.auth_user" value="{{auth.auth_user}}"></input></div>
									</div>

									<div class="row-fluid">
										<div class="field-name span5">{{ i18n.password }}</div>
										<div class="span6 offset1"><input id="auth_password" required type="password" name="auth.auth_password" value="{{auth.auth_password}}"></input></div>
									</div>

									<div class="row-fluid">
										<div class="field-name span5">{{ i18n.realm }}</div>
										<div class="span6 offset1">{{extra.realm}}</div>
									</div>
								</div>
							</div>

							<!-- <div class="help-registration">
								<a href="{{extra.pbx_help_link}}" target="_blank" class="help-registration-link">{{ i18n.please_follow_link }}</a>{{ i18n.please_follow_text }}
							</div> -->
						</div>
					</div>

					<div class="wizard-content-step" data-step="3">
						<div class="row-fluid">
							<div class="content-centered title-step">
								<h4>
									{{ i18n.title_settings }}
								</h4>
							</div>
						</div>

						<div class="row-fluid">
							<div class="testing-block" data-value="manually">
								<div class="well">
									<div class="configure-line row-fluid">
										<div class="span3 title">
											<label>{{ i18n.inboundFormat.title }}</label>
										</div>
										<div class="span8 offset1">
											<select class="input-medium" name="options.inbound_format">
												{{#select options.inbound_format}}
													<option value="e164">{{ i18n.inboundFormat.e164 }}</option>
													<option value="1npan">{{ i18n.inboundFormat.1npan }}</option>
													<option value="npan">{{ i18n.inboundFormat.npan }}</option>
													<option value="username">{{ i18n.inboundFormat.username }}</option>
												{{/select}}
											</select>
										</div>
									</div>

									<div class="configure-line row-fluid">
										<div class="span3 title">
											<label>{{ i18n.compatibilityMode.title }}</label>
										</div>
										<div class="span8 offset1">
											<div class="switch">
											{{#monsterSwitch}}
												<input type="checkbox" name="extra.compatibilityMode"{{#compare options.media_handling "===" "process"}} data-on="{{ i18n.enabled }}" data-off="{{ i18n.disabled }}" checked{{/compare}}>
											{{/monsterSwitch}}
											</div>
										</div>
									</div>

									<div class="items-selector codec-selector clearfix{{#compare options.media_handling "===" "process"}} active{{/compare}}" id="compatibility_codec_selector"></div>

									<!-- <div class="configure-line row-fluid">
										<div class="span3 title">
											<label>{{ i18n.phone_calls }}</label>
										</div>
										<div class="span8 offset1">
											<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="{{ i18n.help_caller_id }}"></i>
											<label for="register_time">{{ i18n.caller_id_header }}</label>
											<div class="btn-group" data-type="caller_id_header">
												<button class="btn" data-value="p-asserted">{{ i18n.p_asserted_option }}</button>
												<button class="btn" data-value="remote-party-id">{{ i18n.remote_party_id_option }}</button>
												<button class="btn" data-value="from">{{ i18n.from_option }}</button>
											</div>
										</div>
									</div> -->
									
									<!-- <div class="help-box gray-box">
										<div class="wrapper-icon">
											&nbsp;<i class="fa-info-sign2"></i>&nbsp;
										</div>
										<div class="text-wrapper">
											<p>{{ i18n.help_manual_config }}</p>
										</div>
									</div>

									<div class="configure-line row-fluid">
										<div class="span3 title">
											<label>{{ i18n.firewall }}</label>
										</div>
										<div class="span4 offset1">
											<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="{{ i18n.help_register_time }}"></i>
											<label for="register_time">{{ i18n.register_time }}</label>
											<input required type="text" name="cfg.register_time" placeholder="360" pattern="^[0-9]+$" value="{{cfg.register_time}}"></input>
										</div>
										<div class="span4">
											<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="{{ i18n.help_options_ping }}"></i>
											<label>{{ i18n.opening_pings }}</label>
											<div class="btn-group" data-type="opening_pings">
												<button class="btn" data-value="true">{{ i18n.yes }}</button>
												<button class="btn" data-value="false">{{ i18n.no }}</button>
											</div>
										</div>
									</div>

									<div class="configure-line row-fluid">
										<div class="span3 title">
											<label>{{ i18n.phone_calls }}</label>
										</div>
										<div class="span8 offset1">
											<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="{{ i18n.help_caller_id }}"></i>
											<label for="register_time">{{ i18n.caller_id_header }}</label>
											<div class="btn-group" data-type="caller_id_header">
												<button class="btn" data-value="p-asserted">{{ i18n.p_asserted_option }}</button>
												<button class="btn" data-value="remote-party-id">{{ i18n.remote_party_id_option }}</button>
												<button class="btn" data-value="from">{{ i18n.from_option }}</button>
											</div>
										</div>
									</div>

									<div class="configure-line row-fluid">
										<div class="span3 title">
											<label>{{ i18n.hd_audio_video }}</label>
										</div>
										<div class="span8 offset1">
											<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="{{ i18n.help_supported_codecs }}"></i>
											<label for="register_time">{{ i18n.supported_codecs }}</label>
											<div class="btn-group" data-type="supported_codecs" data-select="multi">
												<button class="btn" data-value="g722">{{ i18n.g722 }}</button>
												<button class="btn" data-value="g711">{{ i18n.g711 }}</button>
												<button class="btn" data-value="g729">{{ i18n.g729 }}</button>
												<button class="btn" data-value="gsm">{{ i18n.gsm }}</button>
											</div>
										</div>
									</div>

									<div class="configure-line row-fluid">
										<div class="span3 title">
											<label>{{ i18n.dtmf }}</label>
										</div>
										<div class="span8 offset1">
											<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="{{ i18n.help_dtmf }}"></i>
											<label for="register_time">{{ i18n.signaling_type }}</label>
											<div class="btn-group" data-type="signaling_type">
												<button class="btn" data-value="rfc_2833">{{ i18n.rfc_2833 }}</button>
												<button class="btn" data-value="in_band">{{ i18n.in_band }}</button>
											</div>
										</div>
									</div>

									<div class="configure-line row-fluid">
										<div class="span3 title">
											<label>{{ i18n.call_transfer }}</label>
										</div>
										<div class="span8 offset1">
											<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="{{ i18n.help_call_transfer }}"></i>
											<label for="register_time">{{ i18n.allow_refer }}</label>
											<div class="btn-group" data-type="allow_refer">
												<button class="btn" data-value="true">{{ i18n.yes }}</button>
												<button class="btn" data-value="false">{{ i18n.no }}</button>
											</div>
										</div>
									</div>

									<div class="configure-line row-fluid">
										<div class="span3 title">
											<label>{{ i18n.faxing }}</label>
										</div>
										<div class="span8 offset1">
											<i class="fa fa-question-circle" data-toggle="tooltip" data-placement="left" data-original-title="{{ i18n.help_faxing }}"></i>
											<label for="register_time">{{ i18n.use_t38 }}</label>
											<div class="btn-group" data-type="use_t38">
												<button class="btn" data-value="true">{{ i18n.yes }}</button>
												<button class="btn" data-value="false">{{ i18n.no }}</button>
											</div>
										</div>
									</div> -->
									
								</div>
							</div>
							<!--
							<div class="help-registration">
								<a href="{{extra.pbx_help_configuration_link}}" target="_blank" class="help-configuration-link">{{ i18n.please_follow_link }}</a>{{ i18n.help_configuration }}
							</div>
							-->
						</div>
					</div>

					<div class="wizard-buttons">
						<button type="button" class="cancel btn btn-danger pull-left"><i class="fa fa-angle-double-left"></i>{{ i18n.cancel }}</button>
						<button type="button" class="prev-step btn btn-primary pull-left"><i class="fa fa-angle-double-left"></i>{{ i18n.previous }}</button>
						<button type="button" class="submit-btn btn btn-success"><i class="fa fa-check"></i>{{ i18n.submit }}</button>
						<button type="button" class="next-step btn btn-primary">{{ i18n.next }}<i class="fa fa-angle-double-right"></i></button>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>
